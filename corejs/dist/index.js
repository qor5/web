var uc=Object.defineProperty;var fc=(l,$,k)=>$ in l?uc(l,$,{enumerable:!0,configurable:!0,writable:!0,value:k}):l[$]=k;var E=(l,$,k)=>fc(l,typeof $!="symbol"?$+"":$,k);(function(l,$){typeof exports=="object"&&typeof module<"u"?$(require("vue")):typeof define=="function"&&define.amd?define(["vue"],$):(l=typeof globalThis<"u"?globalThis:l||self,$(l.Vue))})(this,function(l){"use strict";/*!
 * vue-global-events v3.0.1
 * (c) 2019-2023 Eduardo San Martin Morote, Damian Dulisz
 * Released under the MIT License.
 */let $;function k(){return $??($=/msie|trident/.test(window.navigator.userAgent.toLowerCase()))}const Pt=/^on(\w+?)((?:Once|Capture|Passive)*)$/,Dt=/[OCP]/g;function Lt(e){return e?k()?e.includes("Capture"):e.replace(Dt,",$&").toLowerCase().slice(1).split(",").reduce((r,n)=>(r[n]=!0,r),{}):void 0}const xt=l.defineComponent({name:"GlobalEvents",props:{target:{type:String,default:"document"},filter:{type:[Function,Array],default:()=>()=>!0},stop:Boolean,prevent:Boolean},setup(e,{attrs:t}){let r=Object.create(null);const n=l.ref(!0);return l.onActivated(()=>{n.value=!0}),l.onDeactivated(()=>{n.value=!1}),l.onMounted(()=>{Object.keys(t).filter(i=>i.startsWith("on")).forEach(i=>{const o=t[i],s=Array.isArray(o)?o:[o],u=i.match(Pt);if(!u){__DEV__&&console.warn(`[vue-global-events] Unable to parse "${i}". If this should work, you should probably open a new issue on https://github.com/shentao/vue-global-events.`);return}let[,h,p]=u;h=h.toLowerCase();const y=s.map(g=>v=>{const I=Array.isArray(e.filter)?e.filter:[e.filter];n.value&&I.every(B=>B(v,g,h))&&(e.stop&&v.stopPropagation(),e.prevent&&v.preventDefault(),g(v))}),_=Lt(p);y.forEach(g=>{window[e.target].addEventListener(h,g,_)}),r[i]=[y,h,_]})}),l.onBeforeUnmount(()=>{for(const i in r){const[o,s,u]=r[i];o.forEach(h=>{window[e.target].removeEventListener(s,h,u)})}r={}}),()=>null}});var J=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ie=Nt,Ut=typeof J=="object"&&J&&J.Object===Object&&J,Mt=Ut,Ht=Mt,Bt=typeof self=="object"&&self&&self.Object===Object&&self,qt=Ht||Bt||Function("return this")(),ee=qt,Gt=ee,zt=function(){return Gt.Date.now()},kt=zt,Jt=/\s/;function Kt(e){for(var t=e.length;t--&&Jt.test(e.charAt(t)););return t}var Vt=Kt,Qt=Vt,Yt=/^\s+/;function Wt(e){return e&&e.slice(0,Qt(e)+1).replace(Yt,"")}var Zt=Wt,Xt=ee,er=Xt.Symbol,ye=er,Ue=ye,Me=Object.prototype,tr=Me.hasOwnProperty,rr=Me.toString,te=Ue?Ue.toStringTag:void 0;function nr(e){var t=tr.call(e,te),r=e[te];try{e[te]=void 0;var n=!0}catch{}var i=rr.call(e);return n&&(t?e[te]=r:delete e[te]),i}var ir=nr,or=Object.prototype,ar=or.toString;function sr(e){return ar.call(e)}var cr=sr,He=ye,ur=ir,fr=cr,lr="[object Null]",hr="[object Undefined]",Be=He?He.toStringTag:void 0;function dr(e){return e==null?e===void 0?hr:lr:Be&&Be in Object(e)?ur(e):fr(e)}var ve=dr;function pr(e){return e!=null&&typeof e=="object"}var oe=pr,yr=ve,vr=oe,_r="[object Symbol]";function gr(e){return typeof e=="symbol"||vr(e)&&yr(e)==_r}var mr=gr,wr=Zt,qe=ie,br=mr,Ge=NaN,Or=/^[-+]0x[0-9a-f]+$/i,Ar=/^0b[01]+$/i,Sr=/^0o[0-7]+$/i,Er=parseInt;function $r(e){if(typeof e=="number")return e;if(br(e))return Ge;if(qe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=qe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=wr(e);var r=Ar.test(e);return r||Sr.test(e)?Er(e.slice(2),r?2:8):Or.test(e)?Ge:+e}var Tr=$r,Ir=ie,_e=kt,ze=Tr,Fr="Expected a function",Cr=Math.max,Rr=Math.min;function jr(e,t,r){var n,i,o,s,u,h,p=0,y=!1,_=!1,g=!0;if(typeof e!="function")throw new TypeError(Fr);t=ze(t)||0,Ir(r)&&(y=!!r.leading,_="maxWait"in r,o=_?Cr(ze(r.maxWait)||0,t):o,g="trailing"in r?!!r.trailing:g);function v(b){var T=n,j=i;return n=i=void 0,p=b,s=e.apply(j,T),s}function I(b){return p=b,u=setTimeout(Z,t),y?v(b):s}function B(b){var T=b-h,j=b-p,ne=t-T;return _?Rr(ne,o-j):ne}function W(b){var T=b-h,j=b-p;return h===void 0||T>=t||T<0||_&&j>=o}function Z(){var b=_e();if(W(b))return X(b);u=setTimeout(Z,B(b))}function X(b){return u=void 0,g&&n?v(b):(n=i=void 0,s)}function q(){u!==void 0&&clearTimeout(u),p=0,n=h=i=u=void 0}function Le(){return u===void 0?s:X(_e())}function G(){var b=_e(),T=W(b);if(n=arguments,i=this,h=b,T){if(u===void 0)return I(h);if(_)return clearTimeout(u),u=setTimeout(Z,t),v(h)}return u===void 0&&(u=setTimeout(Z,t)),s}return G.cancel=q,G.flush=Le,G}var Pr=jr;const ke=pe(Pr),Dr=l.defineComponent({__name:"go-plaid-scope",props:{init:{},formInit:{},useDebounce:{}},emits:["change-debounced"],setup(e,{emit:t}){const r=e,n=t;let i=r.init;Array.isArray(i)&&(i=Object.assign({},...i));const o=l.reactive({...i});let s=r.formInit;Array.isArray(s)&&(s=Object.assign({},...s));const u=l.reactive({...s}),h=l.inject("vars"),p=l.inject("plaid");return l.onMounted(()=>{setTimeout(()=>{if(r.useDebounce){const y=r.useDebounce,_=ke(g=>{n("change-debounced",g)},y);console.log("watched"),l.watch(o,(g,v)=>{_({locals:g,form:u,oldLocals:v,oldForm:u})}),l.watch(u,(g,v)=>{_({locals:o,form:g,oldLocals:o,oldForm:v})})}},0)}),(y,_)=>l.renderSlot(y.$slots,"default",{locals:o,form:u,plaid:l.unref(p),vars:l.unref(h)})}});/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */(function(){var e;function t(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}var r=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,f){return a==Array.prototype||a==Object.prototype||(a[c]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof J=="object"&&J];for(var c=0;c<a.length;++c){var f=a[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function o(a,c){if(c)e:{var f=i;a=a.split(".");for(var d=0;d<a.length-1;d++){var m=a[d];if(!(m in f))break e;f=f[m]}a=a[a.length-1],d=f[a],c=c(d),c!=d&&c!=null&&r(f,a,{configurable:!0,writable:!0,value:c})}}o("Symbol",function(a){function c(A){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new f(d+(A||"")+"_"+m++,A)}function f(A,C){this.A=A,r(this,"description",{configurable:!0,writable:!0,value:C})}if(a)return a;f.prototype.toString=function(){return this.A};var d="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",m=0;return c}),o("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),f=0;f<c.length;f++){var d=i[c[f]];typeof d=="function"&&typeof d.prototype[a]!="function"&&r(d.prototype,a,{configurable:!0,writable:!0,value:function(){return s(t(this))}})}return a});function s(a){return a={next:a},a[Symbol.iterator]=function(){return this},a}function u(a){var c=typeof Symbol<"u"&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):{next:t(a)}}var h;if(typeof Object.setPrototypeOf=="function")h=Object.setPrototypeOf;else{var p;e:{var y={a:!0},_={};try{_.__proto__=y,p=_.a;break e}catch{}p=!1}h=p?function(a,c){if(a.__proto__=c,a.__proto__!==c)throw new TypeError(a+" is not extensible");return a}:null}var g=h;function v(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function I(a){if(a.m)throw new TypeError("Generator is already running");a.m=!0}v.prototype.o=function(a){this.v=a},v.prototype.s=function(a){this.l={D:a,F:!0},this.h=this.C||this.u},v.prototype.return=function(a){this.l={return:a},this.h=this.u};function B(a,c){return a.h=3,{value:c}}function W(a){this.g=new v,this.G=a}W.prototype.o=function(a){return I(this.g),this.g.j?X(this,this.g.j.next,a,this.g.o):(this.g.o(a),q(this))};function Z(a,c){I(a.g);var f=a.g.j;return f?X(a,"return"in f?f.return:function(d){return{value:d,done:!0}},c,a.g.return):(a.g.return(c),q(a))}W.prototype.s=function(a){return I(this.g),this.g.j?X(this,this.g.j.throw,a,this.g.o):(this.g.s(a),q(this))};function X(a,c,f,d){try{var m=c.call(a.g.j,f);if(!(m instanceof Object))throw new TypeError("Iterator result "+m+" is not an object");if(!m.done)return a.g.m=!1,m;var A=m.value}catch(C){return a.g.j=null,a.g.s(C),q(a)}return a.g.j=null,d.call(a.g,A),q(a)}function q(a){for(;a.g.h;)try{var c=a.G(a.g);if(c)return a.g.m=!1,{value:c.value,done:!1}}catch(f){a.g.v=void 0,a.g.s(f)}if(a.g.m=!1,a.g.l){if(c=a.g.l,a.g.l=null,c.F)throw c.D;return{value:c.return,done:!0}}return{value:void 0,done:!0}}function Le(a){this.next=function(c){return a.o(c)},this.throw=function(c){return a.s(c)},this.return=function(c){return Z(a,c)},this[Symbol.iterator]=function(){return this}}function G(a,c){return c=new Le(new W(c)),g&&a.prototype&&g(c,a.prototype),c}function b(a,c){a instanceof String&&(a+="");var f=0,d=!1,m={next:function(){if(!d&&f<a.length){var A=f++;return{value:c(A,a[A]),done:!1}}return d=!0,{done:!0,value:void 0}}};return m[Symbol.iterator]=function(){return m},m}if(o("Array.prototype.entries",function(a){return a||function(){return b(this,function(c,f){return[c,f]})}}),typeof Blob<"u"&&(typeof FormData>"u"||!FormData.prototype.keys)){var T=function(a,c){for(var f=0;f<a.length;f++)c(a[f])},j=function(a){return a.replace(/\r?\n|\r/g,`\r
`)},ne=function(a,c,f){return c instanceof Blob?(f=f!==void 0?f+"":typeof c.name=="string"?c.name:"blob",(c.name!==f||Object.prototype.toString.call(c)==="[object Blob]")&&(c=new File([c],f)),[String(a),c]):[String(a),String(c)]},z=function(a,c){if(a.length<c)throw new TypeError(c+" argument required, but only "+a.length+" present.")},S=typeof globalThis=="object"?globalThis:typeof window=="object"?window:typeof self=="object"?self:this,sc=S.FormData,xe=S.XMLHttpRequest&&S.XMLHttpRequest.prototype.send,Rt=S.Request&&S.fetch,jt=S.navigator&&S.navigator.sendBeacon,N=S.Element&&S.Element.prototype,x=S.Symbol&&Symbol.toStringTag;x&&(Blob.prototype[x]||(Blob.prototype[x]="Blob"),"File"in S&&!File.prototype[x]&&(File.prototype[x]="File"));try{new File([],"")}catch{S.File=function(c,f,d){return c=new Blob(c,d||{}),Object.defineProperties(c,{name:{value:f},lastModified:{value:+(d&&d.lastModified!==void 0?new Date(d.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),x&&Object.defineProperty(c,x,{value:"File"}),c}}var Ne=function(a){return a.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},P=function(a){this.i=[];var c=this;a&&T(a.elements,function(f){if(f.name&&!f.disabled&&f.type!=="submit"&&f.type!=="button"&&!f.matches("form fieldset[disabled] *"))if(f.type==="file"){var d=f.files&&f.files.length?f.files:[new File([],"",{type:"application/octet-stream"})];T(d,function(m){c.append(f.name,m)})}else f.type==="select-multiple"||f.type==="select-one"?T(f.options,function(m){!m.disabled&&m.selected&&c.append(f.name,m.value)}):f.type==="checkbox"||f.type==="radio"?f.checked&&c.append(f.name,f.value):(d=f.type==="textarea"?j(f.value):f.value,c.append(f.name,d))})};if(e=P.prototype,e.append=function(a,c,f){z(arguments,2),this.i.push(ne(a,c,f))},e.delete=function(a){z(arguments,1);var c=[];a=String(a),T(this.i,function(f){f[0]!==a&&c.push(f)}),this.i=c},e.entries=function a(){var c,f=this;return G(a,function(d){if(d.h==1&&(c=0),d.h!=3)return c<f.i.length?d=B(d,f.i[c]):(d.h=0,d=void 0),d;c++,d.h=2})},e.forEach=function(a,c){z(arguments,1);for(var f=u(this),d=f.next();!d.done;d=f.next()){var m=u(d.value);d=m.next().value,m=m.next().value,a.call(c,m,d,this)}},e.get=function(a){z(arguments,1);var c=this.i;a=String(a);for(var f=0;f<c.length;f++)if(c[f][0]===a)return c[f][1];return null},e.getAll=function(a){z(arguments,1);var c=[];return a=String(a),T(this.i,function(f){f[0]===a&&c.push(f[1])}),c},e.has=function(a){z(arguments,1),a=String(a);for(var c=0;c<this.i.length;c++)if(this.i[c][0]===a)return!0;return!1},e.keys=function a(){var c=this,f,d,m,A,C;return G(a,function(R){if(R.h==1&&(f=u(c),d=f.next()),R.h!=3){if(d.done){R.h=0;return}return m=d.value,A=u(m),C=A.next().value,B(R,C)}d=f.next(),R.h=2})},e.set=function(a,c,f){z(arguments,2),a=String(a);var d=[],m=ne(a,c,f),A=!0;T(this.i,function(C){C[0]===a?A&&(A=!d.push(m)):d.push(C)}),A&&d.push(m),this.i=d},e.values=function a(){var c=this,f,d,m,A,C;return G(a,function(R){if(R.h==1&&(f=u(c),d=f.next()),R.h!=3){if(d.done){R.h=0;return}return m=d.value,A=u(m),A.next(),C=A.next().value,B(R,C)}d=f.next(),R.h=2})},P.prototype._asNative=function(){for(var a=new sc,c=u(this),f=c.next();!f.done;f=c.next()){var d=u(f.value);f=d.next().value,d=d.next().value,a.append(f,d)}return a},P.prototype._blob=function(){var a="----formdata-polyfill-"+Math.random(),c=[],f="--"+a+`\r
Content-Disposition: form-data; name="`;return this.forEach(function(d,m){return typeof d=="string"?c.push(f+Ne(j(m))+(`"\r
\r
`+j(d)+`\r
`)):c.push(f+Ne(j(m))+('"; filename="'+Ne(d.name)+`"\r
Content-Type: `+(d.type||"application/octet-stream")+`\r
\r
`),d,`\r
`)}),c.push("--"+a+"--"),new Blob(c,{type:"multipart/form-data; boundary="+a})},P.prototype[Symbol.iterator]=function(){return this.entries()},P.prototype.toString=function(){return"[object FormData]"},N&&!N.matches&&(N.matches=N.matchesSelector||N.mozMatchesSelector||N.msMatchesSelector||N.oMatchesSelector||N.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var c=a.length;0<=--c&&a.item(c)!==this;);return-1<c}),x&&(P.prototype[x]="FormData"),xe){var cc=S.XMLHttpRequest.prototype.setRequestHeader;S.XMLHttpRequest.prototype.setRequestHeader=function(a,c){cc.call(this,a,c),a.toLowerCase()==="content-type"&&(this.B=!0)},S.XMLHttpRequest.prototype.send=function(a){a instanceof P?(a=a._blob(),this.B||this.setRequestHeader("Content-Type",a.type),xe.call(this,a)):xe.call(this,a)}}Rt&&(S.fetch=function(a,c){return c&&c.body&&c.body instanceof P&&(c.body=c.body._blob()),Rt.call(this,a,c)}),jt&&(S.navigator.sendBeacon=function(a,c){return c instanceof P&&(c=c._asNative()),jt.call(this,a,c)}),S.FormData=P}})();const Je="%[a-f0-9]{2}",Ke=new RegExp("("+Je+")|([^%]+?)","gi"),Ve=new RegExp("("+Je+")+","gi");function ge(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],ge(r),ge(n))}function Lr(e){try{return decodeURIComponent(e)}catch{let t=e.match(Ke)||[];for(let r=1;r<t.length;r++)e=ge(t,r).join(""),t=e.match(Ke)||[];return e}}function xr(e){const t={"%FE%FF":"��","%FF%FE":"��"};let r=Ve.exec(e);for(;r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{const i=Lr(r[0]);i!==r[0]&&(t[r[0]]=i)}r=Ve.exec(e)}t["%C2"]="�";const n=Object.keys(t);for(const i of n)e=e.replace(new RegExp(i,"g"),t[i]);return e}function Nr(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return xr(e)}}function Qe(e,t){if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const r=e.indexOf(t);return r===-1?[]:[e.slice(0,r),e.slice(r+t.length)]}function Ur(e,t){const r={};if(Array.isArray(t))for(const n of t){const i=Object.getOwnPropertyDescriptor(e,n);i!=null&&i.enumerable&&Object.defineProperty(r,n,i)}else for(const n of Reflect.ownKeys(e)){const i=Object.getOwnPropertyDescriptor(e,n);if(i.enumerable){const o=e[n];t(n,o,e)&&Object.defineProperty(r,n,i)}}return r}const Mr=e=>e==null,Hr=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),me=Symbol("encodeFragmentIdentifier");function Br(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const i=r.length;return n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[O(t,e),"[",i,"]"].join("")]:[...r,[O(t,e),"[",O(i,e),"]=",O(n,e)].join("")]};case"bracket":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[O(t,e),"[]"].join("")]:[...r,[O(t,e),"[]=",O(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,[O(t,e),":list="].join("")]:[...r,[O(t,e),":list=",O(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||e.skipNull&&i===null||e.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[O(r,e),t,O(i,e)].join("")]:[[n,O(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?r:n===null?[...r,O(t,e)]:[...r,[O(t,e),"=",O(n,e)].join("")]}}function qr(e){let t;switch(e.arrayFormat){case"index":return(r,n,i)=>{if(t=/\[(\d*)]$/.exec(r),r=r.replace(/\[\d*]$/,""),!t){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][t[1]]=n};case"bracket":return(r,n,i)=>{if(t=/(\[])$/.exec(r),r=r.replace(/\[]$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[...i[r],n]};case"colon-list-separator":return(r,n,i)=>{if(t=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!t){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[...i[r],n]};case"comma":case"separator":return(r,n,i)=>{const o=typeof n=="string"&&n.includes(e.arrayFormatSeparator),s=typeof n=="string"&&!o&&D(n,e).includes(e.arrayFormatSeparator);n=s?D(n,e):n;const u=o||s?n.split(e.arrayFormatSeparator).map(h=>D(h,e)):n===null?n:D(n,e);i[r]=u};case"bracket-separator":return(r,n,i)=>{const o=/(\[])$/.test(r);if(r=r.replace(/\[]$/,""),!o){i[r]=n&&D(n,e);return}const s=n===null?[]:n.split(e.arrayFormatSeparator).map(u=>D(u,e));if(i[r]===void 0){i[r]=s;return}i[r]=[...i[r],...s]};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[...[i[r]].flat(),n]}}}function Ye(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function O(e,t){return t.encode?t.strict?Hr(e):encodeURIComponent(e):e}function D(e,t){return t.decode?Nr(e):e}function We(e){return Array.isArray(e)?e.sort():typeof e=="object"?We(Object.keys(e)).sort((t,r)=>Number(t)-Number(r)).map(t=>e[t]):e}function Ze(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function Gr(e){let t="";const r=e.indexOf("#");return r!==-1&&(t=e.slice(r)),t}function Xe(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function we(e){e=Ze(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function be(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t},Ye(t.arrayFormatSeparator);const r=qr(t),n=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return n;for(const i of e.split("&")){if(i==="")continue;const o=t.decode?i.replaceAll("+"," "):i;let[s,u]=Qe(o,"=");s===void 0&&(s=o),u=u===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?u:D(u,t),r(D(s,t),u,n)}for(const[i,o]of Object.entries(n))if(typeof o=="object"&&o!==null)for(const[s,u]of Object.entries(o))o[s]=Xe(u,t);else n[i]=Xe(o,t);return t.sort===!1?n:(t.sort===!0?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((i,o)=>{const s=n[o];return i[o]=s&&typeof s=="object"&&!Array.isArray(s)?We(s):s,i},Object.create(null))}function et(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},Ye(t.arrayFormatSeparator);const r=s=>t.skipNull&&Mr(e[s])||t.skipEmptyString&&e[s]==="",n=Br(t),i={};for(const[s,u]of Object.entries(e))r(s)||(i[s]=u);const o=Object.keys(i);return t.sort!==!1&&o.sort(t.sort),o.map(s=>{const u=e[s];return u===void 0?"":u===null?O(s,t):Array.isArray(u)?u.length===0&&t.arrayFormat==="bracket-separator"?O(s,t)+"[]":u.reduce(n(s),[]).join("&"):O(s,t)+"="+O(u,t)}).filter(s=>s.length>0).join("&")}function tt(e,t){var i;t={decode:!0,...t};let[r,n]=Qe(e,"#");return r===void 0&&(r=e),{url:((i=r==null?void 0:r.split("?"))==null?void 0:i[0])??"",query:be(we(e),t),...t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:D(n,t)}:{}}}function rt(e,t){t={encode:!0,strict:!0,[me]:!0,...t};const r=Ze(e.url).split("?")[0]||"",n=we(e.url),i={...be(n,{sort:!1}),...e.query};let o=et(i,t);o&&(o=`?${o}`);let s=Gr(e.url);if(typeof e.fragmentIdentifier=="string"){const u=new URL(r);u.hash=e.fragmentIdentifier,s=t[me]?u.hash:`#${e.fragmentIdentifier}`}return`${r}${o}${s}`}function nt(e,t,r){r={parseFragmentIdentifier:!0,[me]:!1,...r};const{url:n,query:i,fragmentIdentifier:o}=tt(e,r);return rt({url:n,query:Ur(i,t),fragmentIdentifier:o},r)}function zr(e,t,r){const n=Array.isArray(t)?i=>!t.includes(i):(i,o)=>!t(i,o);return nt(e,n,r)}const L=Object.freeze(Object.defineProperty({__proto__:null,exclude:zr,extract:we,parse:be,parseUrl:tt,pick:nt,stringify:et,stringifyUrl:rt},Symbol.toStringTag,{value:"Module"}));function kr(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Jr=kr,Kr=ve,Vr=oe,Qr="[object Arguments]";function Yr(e){return Vr(e)&&Kr(e)==Qr}var Wr=Yr,it=Wr,Zr=oe,ot=Object.prototype,Xr=ot.hasOwnProperty,en=ot.propertyIsEnumerable,tn=it(function(){return arguments}())?it:function(e){return Zr(e)&&Xr.call(e,"callee")&&!en.call(e,"callee")},rn=tn,nn=Array.isArray,on=nn,at=ye,an=rn,sn=on,st=at?at.isConcatSpreadable:void 0;function cn(e){return sn(e)||an(e)||!!(st&&e&&e[st])}var un=cn,fn=Jr,ln=un;function ct(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=ln),i||(i=[]);++o<s;){var u=e[o];t>0&&r(u)?t>1?ct(u,t-1,r,n,i):fn(i,u):n||(i[i.length]=u)}return i}var hn=ct;function dn(e){return e}var ut=dn;function pn(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var yn=pn,vn=yn,ft=Math.max;function _n(e,t,r){return t=ft(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=ft(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=r(s),vn(e,this,u)}}var gn=_n;function mn(e){return function(){return e}}var wn=mn,bn=ve,On=ie,An="[object AsyncFunction]",Sn="[object Function]",En="[object GeneratorFunction]",$n="[object Proxy]";function Tn(e){if(!On(e))return!1;var t=bn(e);return t==Sn||t==En||t==An||t==$n}var lt=Tn,In=ee,Fn=In["__core-js_shared__"],Cn=Fn,Oe=Cn,ht=function(){var e=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rn(e){return!!ht&&ht in e}var jn=Rn,Pn=Function.prototype,Dn=Pn.toString;function Ln(e){if(e!=null){try{return Dn.call(e)}catch{}try{return e+""}catch{}}return""}var xn=Ln,Nn=lt,Un=jn,Mn=ie,Hn=xn,Bn=/[\\^$.*+?()[\]{}|]/g,qn=/^\[object .+?Constructor\]$/,Gn=Function.prototype,zn=Object.prototype,kn=Gn.toString,Jn=zn.hasOwnProperty,Kn=RegExp("^"+kn.call(Jn).replace(Bn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vn(e){if(!Mn(e)||Un(e))return!1;var t=Nn(e)?Kn:qn;return t.test(Hn(e))}var Qn=Vn;function Yn(e,t){return e==null?void 0:e[t]}var Wn=Yn,Zn=Qn,Xn=Wn;function ei(e,t){var r=Xn(e,t);return Zn(r)?r:void 0}var ae=ei,ti=ae,ri=function(){try{var e=ti(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ni=ri,ii=wn,dt=ni,oi=ut,ai=dt?function(e,t){return dt(e,"toString",{configurable:!0,enumerable:!1,value:ii(t),writable:!0})}:oi,si=ai,ci=800,ui=16,fi=Date.now;function li(e){var t=0,r=0;return function(){var n=fi(),i=ui-(n-r);if(r=n,i>0){if(++t>=ci)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var hi=li,di=si,pi=hi,yi=pi(di),vi=yi,_i=ut,gi=gn,mi=vi;function wi(e,t){return mi(gi(e,t,_i),e+"")}var pt=wi,bi=ae,Oi=bi(Object,"create"),se=Oi,yt=se;function Ai(){this.__data__=yt?yt(null):{},this.size=0}var Si=Ai;function Ei(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $i=Ei,Ti=se,Ii="__lodash_hash_undefined__",Fi=Object.prototype,Ci=Fi.hasOwnProperty;function Ri(e){var t=this.__data__;if(Ti){var r=t[e];return r===Ii?void 0:r}return Ci.call(t,e)?t[e]:void 0}var ji=Ri,Pi=se,Di=Object.prototype,Li=Di.hasOwnProperty;function xi(e){var t=this.__data__;return Pi?t[e]!==void 0:Li.call(t,e)}var Ni=xi,Ui=se,Mi="__lodash_hash_undefined__";function Hi(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ui&&t===void 0?Mi:t,this}var Bi=Hi,qi=Si,Gi=$i,zi=ji,ki=Ni,Ji=Bi;function K(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}K.prototype.clear=qi,K.prototype.delete=Gi,K.prototype.get=zi,K.prototype.has=ki,K.prototype.set=Ji;var Ki=K;function Vi(){this.__data__=[],this.size=0}var Qi=Vi;function Yi(e,t){return e===t||e!==e&&t!==t}var Wi=Yi,Zi=Wi;function Xi(e,t){for(var r=e.length;r--;)if(Zi(e[r][0],t))return r;return-1}var ce=Xi,eo=ce,to=Array.prototype,ro=to.splice;function no(e){var t=this.__data__,r=eo(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ro.call(t,r,1),--this.size,!0}var io=no,oo=ce;function ao(e){var t=this.__data__,r=oo(t,e);return r<0?void 0:t[r][1]}var so=ao,co=ce;function uo(e){return co(this.__data__,e)>-1}var fo=uo,lo=ce;function ho(e,t){var r=this.__data__,n=lo(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var po=ho,yo=Qi,vo=io,_o=so,go=fo,mo=po;function V(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}V.prototype.clear=yo,V.prototype.delete=vo,V.prototype.get=_o,V.prototype.has=go,V.prototype.set=mo;var wo=V,bo=ae,Oo=ee,Ao=bo(Oo,"Map"),So=Ao,vt=Ki,Eo=wo,$o=So;function To(){this.size=0,this.__data__={hash:new vt,map:new($o||Eo),string:new vt}}var Io=To;function Fo(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Co=Fo,Ro=Co;function jo(e,t){var r=e.__data__;return Ro(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ue=jo,Po=ue;function Do(e){var t=Po(this,e).delete(e);return this.size-=t?1:0,t}var Lo=Do,xo=ue;function No(e){return xo(this,e).get(e)}var Uo=No,Mo=ue;function Ho(e){return Mo(this,e).has(e)}var Bo=Ho,qo=ue;function Go(e,t){var r=qo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var zo=Go,ko=Io,Jo=Lo,Ko=Uo,Vo=Bo,Qo=zo;function Q(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Q.prototype.clear=ko,Q.prototype.delete=Jo,Q.prototype.get=Ko,Q.prototype.has=Vo,Q.prototype.set=Qo;var Yo=Q,Wo="__lodash_hash_undefined__";function Zo(e){return this.__data__.set(e,Wo),this}var Xo=Zo;function ea(e){return this.__data__.has(e)}var ta=ea,ra=Yo,na=Xo,ia=ta;function fe(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ra;++t<r;)this.add(e[t])}fe.prototype.add=fe.prototype.push=na,fe.prototype.has=ia;var _t=fe;function oa(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var aa=oa;function sa(e){return e!==e}var ca=sa;function ua(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var fa=ua,la=aa,ha=ca,da=fa;function pa(e,t,r){return t===t?da(e,t,r):la(e,ha,r)}var ya=pa,va=ya;function _a(e,t){var r=e==null?0:e.length;return!!r&&va(e,t,0)>-1}var gt=_a;function ga(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var mt=ga;function ma(e,t){return e.has(t)}var wt=ma,wa=ae,ba=ee,Oa=wa(ba,"Set"),Aa=Oa;function Sa(){}var Ea=Sa;function $a(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var bt=$a,Ae=Aa,Ta=Ea,Ia=bt,Fa=1/0,Ca=Ae&&1/Ia(new Ae([,-0]))[1]==Fa?function(e){return new Ae(e)}:Ta,Ra=Ca,ja=_t,Pa=gt,Da=mt,La=wt,xa=Ra,Na=bt,Ua=200;function Ma(e,t,r){var n=-1,i=Pa,o=e.length,s=!0,u=[],h=u;if(r)s=!1,i=Da;else if(o>=Ua){var p=t?null:xa(e);if(p)return Na(p);s=!1,i=La,h=new ja}else h=t?[]:u;e:for(;++n<o;){var y=e[n],_=t?t(y):y;if(y=r||y!==0?y:0,s&&_===_){for(var g=h.length;g--;)if(h[g]===_)continue e;t&&h.push(_),u.push(y)}else i(h,_,r)||(h!==u&&h.push(_),u.push(y))}return u}var Ha=Ma,Ba=9007199254740991;function qa(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ba}var Ga=qa,za=lt,ka=Ga;function Ja(e){return e!=null&&ka(e.length)&&!za(e)}var Ka=Ja,Va=Ka,Qa=oe;function Ya(e){return Qa(e)&&Va(e)}var Ot=Ya,Wa=hn,Za=pt,Xa=Ha,es=Ot,ts=Za(function(e){return Xa(Wa(e,1,es,!0))}),rs=ts;const ns=pe(rs);function is(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var os=is;function as(e){return function(t){return e(t)}}var ss=as,cs=_t,us=gt,fs=mt,ls=os,hs=ss,ds=wt,ps=200;function ys(e,t,r,n){var i=-1,o=us,s=!0,u=e.length,h=[],p=t.length;if(!u)return h;r&&(t=ls(t,hs(r))),n?(o=fs,s=!1):t.length>=ps&&(o=ds,s=!1,t=new cs(t));e:for(;++i<u;){var y=e[i],_=r==null?y:r(y);if(y=n||y!==0?y:0,s&&_===_){for(var g=p;g--;)if(t[g]===_)continue e;h.push(y)}else o(t,_,n)||h.push(y)}return h}var vs=ys,_s=vs,gs=pt,ms=Ot,ws=gs(function(e,t){return ms(e)?_s(e,t):[]}),bs=ws;const Os=pe(bs);function As(e,t){const r=e.location,n=L.parseUrl((r==null?void 0:r.url)||t,{arrayFormat:"comma",parseFragmentIdentifier:!0}),i={};let o;if(r){if(r.stringQuery){const g=L.parse(r.stringQuery,{arrayFormat:"comma"});r.query={...g,...r.query}}if(r.mergeQuery){const g=r.clearMergeQueryKeys||[];for(const[v,I]of Object.entries(n.query))g.indexOf(v.split(".")[0])<0&&(i[v]=I);r.query||(r.query={})}o=r.query}const s=o||n.query;let u="";for(const[g,v]of Object.entries(s))Array.isArray(v)?i[g]=v:typeof v=="object"?Ss(i,g,v):i[g]=v;const h={...i,__execute_event__:e.id},p=(r==null?void 0:r.stringifyOptions)||{arrayFormat:"comma"};u=L.stringify(i,p),u.length>0&&(u=`?${u}`);let y=n.url+u;return n.fragmentIdentifier&&(y=y+"#"+n.fragmentIdentifier),{pushStateArgs:[{query:i,url:y},"",y],eventURL:`${n.url}?${L.stringify(h,p)}`}}function Ss(e,t,r){if(!r.value)return;let n=r.value;Array.isArray(r.value)||(n=[r.value]);let i=e[t];if(i&&!Array.isArray(i)&&(i=[i]),r.add){e[t]=ns(i,n);return}if(r.remove){const o=Os(i,...n);o.length===0?delete e[t]:e[t]=o}}function le(e,t,r){if(!t||t.length===0)return!1;if(r instanceof Event)return le(e,t,r.target);if(r instanceof HTMLInputElement){if(r.files)return le(e,t,r.files);switch(r.type){case"checkbox":return r.checked?U(e,t,r.value):e.has(t)?(e.delete(t),!0):!1;case"radio":return r.checked?U(e,t,r.value):!1;default:return U(e,t,r.value)}}if(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)return U(e,t,r.value);if(r==null)return U(e,t,"");let n=!1;if(e.has(t)&&(n=!0,e.delete(t)),Array.isArray(r)||r instanceof FileList){for(let i=0;i<r.length;i++)r[i]instanceof File?(n=!0,e.append(t,r[i],r[i].name)):(n=!0,e.append(t,r[i]));return n}return r instanceof File?(e.set(t,r,r.name),!0):U(e,t,r)}function U(e,t,r){return e.get(t)===r?!1:(e.set(t,r),!0)}function Se(e,t,r={},n=l.ref()){return l.defineComponent({setup(){return{plaid:l.inject("plaid"),vars:l.inject("vars"),isFetching:l.inject("isFetching"),updateRootTemplate:l.inject("updateRootTemplate"),form:t,locals:r}},mounted(){this.$nextTick(()=>{this.$el&&this.$el.style&&this.$el.style.height&&(n.value.style.height=this.$el.style.height)})},template:e})}function At(e,t,r=""){if(e==null)return;const n=Array.isArray(e);if(n&&e.length>0&&(e[0]instanceof File||e[0]instanceof Blob||typeof e[0]=="string")){le(t,r,e);return}return Object.keys(e).forEach(i=>{const o=e[i],s=r?n?`${r}[${i}]`:`${r}.${i}`:i;typeof o=="object"&&!(o instanceof File)&&!(o instanceof Date)?At(o,t,s):le(t,s,o)}),t}function Es(e,t){if(t.length===0)return"";const r=o=>Object.keys(o).sort().map(s=>{const u=encodeURIComponent(o[s]);if(u.includes("_"))throw new Error(`Value contains underscore (_) which is not allowed: ${u}`);return u}).join("_"),n=o=>o.map(s=>typeof s=="object"&&!Array.isArray(s)?r(s):encodeURIComponent(s)).join(","),i=[];return t.forEach(o=>{const s=e[o.json_name];if(s===void 0)return;if(o.encoder){o.encoder({value:s,queries:i,tag:o});return}const u=encodeURIComponent(o.name);if(!(!s&&o.omitempty))if(s===null)i.push(`${u}=`);else if(Array.isArray(s)){if(o.omitempty&&e[o.json_name].length===0)return;i.push(`${u}=${n(e[o.json_name])}`)}else typeof s=="object"?i.push(`${u}=${r(s)}`):i.push(`${u}=${encodeURIComponent(s)}`)}),i.join("&")}function $s(e,t){for(const r in t){if(e[r]===void 0)return!1;const n=Array.isArray(e[r])?e[r]:[e[r]],i=Array.isArray(t[r])?t[r]:[t[r]],o={};n.forEach(s=>{o[s]=(o[s]||0)+1});for(const s of i){if(!o[s]||o[s]===0)return!1;o[s]--}}return!0}function Ts(e,t,r){r===void 0&&(r={arrayFormat:"comma"});const n=L.parse(e,r),i=L.parse(t,r);return $s(n,i)}const Is=l.defineComponent({__name:"go-plaid-portal",props:{loader:Object,locals:Object,form:Object,visible:Boolean,afterLoaded:Function,portalName:String,autoReloadInterval:[String,Number]},setup(e){window.__goplaid=window.__goplaid??{},window.__goplaid.portals=window.__goplaid.portals??{};const t=l.ref(),r=e,n=l.shallowRef(null),i=l.ref(0),o=h=>{n.value=Se(h,r.form,r.locals,t)},s=l.useSlots(),u=()=>{if(s.default){n.value=Se('<slot :form="form" :locals="locals"></slot>',r.locals,t);return}const h=r.loader;h&&h.loadPortalBody(!0).form(r.form).go().then(p=>{p&&o(p.body)})};return l.onMounted(()=>{const h=r.portalName;h&&(window.__goplaid.portals[h]={updatePortalTemplate:o,reload:u}),u()}),l.onUpdated(()=>{if(r.autoReloadInterval&&i.value==0){const h=parseInt(r.autoReloadInterval+"");if(h==0)return;i.value=setInterval(()=>{u()},h)}i.value&&i.value>0&&r.autoReloadInterval==0&&(clearInterval(i.value),i.value=0)}),l.onBeforeUnmount(()=>{i.value&&i.value>0&&clearInterval(i.value)}),(h,p)=>e.visible?(l.openBlock(),l.createElementBlock("div",{key:0,class:"go-plaid-portal",ref_key:"portal",ref:t},[n.value?(l.openBlock(),l.createBlock(l.resolveDynamicComponent(n.value),{key:0},{default:l.withCtx(()=>[l.renderSlot(h.$slots,"default",{form:e.form,locals:e.locals})]),_:3})):l.createCommentVNode("",!0)],512)):l.createCommentVNode("",!0)}}),Fs=l.defineComponent({inheritAttrs:!1,__name:"go-plaid-listener",setup(e){const r=l.inject("vars").__emitter,n=l.useAttrs(),i={};return l.onMounted(()=>{Object.keys(n).forEach(o=>{if(o.startsWith("on")){const s=n[o],u=o.slice(2);i[u]=s,r.on(u,s)}})}),l.onUnmounted(()=>{Object.keys(i).forEach(o=>{r.off(o,i[o])})}),(o,s)=>l.createCommentVNode("",!0)}}),Cs=l.defineComponent({__name:"parent-size-observer",setup(e){const t=l.ref({width:0,height:0});function r(i){const o=i.getBoundingClientRect();t.value.width=o.width,t.value.height=o.height}let n=null;return l.onMounted(()=>{var s;const i=l.getCurrentInstance(),o=(s=i==null?void 0:i.proxy)==null?void 0:s.$el.parentElement;o&&(r(o),n=new ResizeObserver(()=>{r(o)}),n.observe(o))}),l.onBeforeUnmount(()=>{n&&n.disconnect()}),(i,o)=>l.renderSlot(i.$slots,"default",{width:t.value.width,height:t.value.height})}});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Rs=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),js=Object.prototype.hasOwnProperty;function Ee(e,t){return js.call(e,t)}function $e(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);var n=[];for(var i in e)Ee(e,i)&&n.push(i);return n}function F(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Te(e){for(var t=0,r=e.length,n;t<r;){if(n=e.charCodeAt(t),n>=48&&n<=57){t++;continue}return!1}return!0}function M(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function St(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Ie(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(Ie(e[t]))return!0}else if(typeof e=="object"){for(var n=$e(e),i=n.length,o=0;o<i;o++)if(Ie(e[n[o]]))return!0}}return!1}function Et(e,t){var r=[e];for(var n in t){var i=typeof t[n]=="object"?JSON.stringify(t[n],null,2):t[n];typeof i<"u"&&r.push(n+": "+i)}return r.join(`
`)}var $t=function(e){Rs(t,e);function t(r,n,i,o,s){var u=this.constructor,h=e.call(this,Et(r,{name:n,index:i,operation:o,tree:s}))||this;return h.name=n,h.index=i,h.operation=o,h.tree=s,Object.setPrototypeOf(h,u.prototype),h.message=Et(r,{name:n,index:i,operation:o,tree:s}),h}return t}(Error),w=$t,Ps=F,Y={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var n=he(r,this.path);n&&(n=F(n));var i=H(r,{op:"remove",path:this.from}).removed;return H(r,{op:"add",path:this.path,value:i}),{newDocument:r,removed:n}},copy:function(e,t,r){var n=he(r,this.from);return H(r,{op:"add",path:this.path,value:F(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:re(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},Ds={add:function(e,t,r){return Te(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){var n=e.splice(t,1);return{newDocument:r,removed:n[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:Y.move,copy:Y.copy,test:Y.test,_get:Y._get};function he(e,t){if(t=="")return e;var r={op:"_get",path:t};return H(e,r),r.value}function H(e,t,r,n,i,o){if(r===void 0&&(r=!1),n===void 0&&(n=!0),i===void 0&&(i=!0),o===void 0&&(o=0),r&&(typeof r=="function"?r(t,0,e,t.path):de(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=he(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=re(e,t.value),s.test===!1)throw new w("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(r)throw new w("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{n||(e=F(e));var u=t.path||"",h=u.split("/"),p=e,y=1,_=h.length,g=void 0,v=void 0,I=void 0;for(typeof r=="function"?I=r:I=de;;){if(v=h[y],v&&v.indexOf("~")!=-1&&(v=St(v)),i&&(v=="__proto__"||v=="prototype"&&y>0&&h[y-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&g===void 0&&(p[v]===void 0?g=h.slice(0,y).join("/"):y==_-1&&(g=t.path),g!==void 0&&I(t,0,e,g)),y++,Array.isArray(p)){if(v==="-")v=p.length;else{if(r&&!Te(v))throw new w("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);Te(v)&&(v=~~v)}if(y>=_){if(r&&t.op==="add"&&v>p.length)throw new w("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=Ds[t.op].call(t,p,v,e);if(s.test===!1)throw new w("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(y>=_){var s=Y[t.op].call(t,p,v,e);if(s.test===!1)throw new w("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(p=p[v],r&&y<_&&(!p||typeof p!="object"))throw new w("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function Fe(e,t,r,n,i){if(n===void 0&&(n=!0),i===void 0&&(i=!0),r&&!Array.isArray(t))throw new w("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=F(e));for(var o=new Array(t.length),s=0,u=t.length;s<u;s++)o[s]=H(e,t[s],r,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function Ls(e,t,r){var n=H(e,t);if(n.test===!1)throw new w("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument}function de(e,t,r,n){if(typeof e!="object"||e===null||Array.isArray(e))throw new w("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(Y[e.op]){if(typeof e.path!="string")throw new w("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new w('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new w("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new w("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Ie(e.value))throw new w("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r){if(e.op=="add"){var i=e.path.split("/").length,o=n.split("/").length;if(i!==o+1&&i!==o)throw new w("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==n)throw new w("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},u=Tt([s],r);if(u&&u.name==="OPERATION_PATH_UNRESOLVABLE")throw new w("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}else throw new w("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r)}function Tt(e,t,r){try{if(!Array.isArray(e))throw new w("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Fe(F(t),F(e),r||!0);else{r=r||de;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(i){if(i instanceof w)return i;throw i}}function re(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=Array.isArray(e),n=Array.isArray(t),i,o,s;if(r&&n){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!re(e[i],t[i]))return!1;return!0}if(r!=n)return!1;var u=Object.keys(e);if(o=u.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(u[i]))return!1;for(i=o;i--!==0;)if(s=u[i],!re(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const xs=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:w,_areEquals:re,applyOperation:H,applyPatch:Fe,applyReducer:Ls,deepClone:Ps,getValueByPointer:he,validate:Tt,validator:de},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var Ce=new WeakMap,Ns=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Us=function(){function e(t,r){this.callback=t,this.observer=r}return e}();function Ms(e){return Ce.get(e)}function Hs(e,t){return e.observers.get(t)}function Bs(e,t){e.observers.delete(t.callback)}function qs(e,t){t.unobserve()}function Gs(e,t){var r=[],n,i=Ms(e);if(!i)i=new Ns(e),Ce.set(e,i);else{var o=Hs(i,t);n=o&&o.observer}if(n)return n;if(n={},i.value=F(e),t){n.callback=t,n.next=null;var s=function(){Re(n)},u=function(){clearTimeout(n.next),n.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",u),window.addEventListener("keyup",u),window.addEventListener("mousedown",u),window.addEventListener("keydown",u),window.addEventListener("change",u))}return n.patches=r,n.object=e,n.unobserve=function(){Re(n),clearTimeout(n.next),Bs(i,n),typeof window<"u"&&(window.removeEventListener("mouseup",u),window.removeEventListener("keyup",u),window.removeEventListener("mousedown",u),window.removeEventListener("keydown",u),window.removeEventListener("change",u))},i.observers.set(t,new Us(t,n)),n}function Re(e,t){t===void 0&&(t=!1);var r=Ce.get(e.object);je(r.value,e.object,e.patches,"",t),e.patches.length&&Fe(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function je(e,t,r,n,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=$e(t),s=$e(e),u=!1,h=s.length-1;h>=0;h--){var p=s[h],y=e[p];if(Ee(t,p)&&!(t[p]===void 0&&y!==void 0&&Array.isArray(t)===!1)){var _=t[p];typeof y=="object"&&y!=null&&typeof _=="object"&&_!=null&&Array.isArray(y)===Array.isArray(_)?je(y,_,r,n+"/"+M(p),i):y!==_&&(i&&r.push({op:"test",path:n+"/"+M(p),value:F(y)}),r.push({op:"replace",path:n+"/"+M(p),value:F(_)}))}else Array.isArray(e)===Array.isArray(t)?(i&&r.push({op:"test",path:n+"/"+M(p),value:F(y)}),r.push({op:"remove",path:n+"/"+M(p)}),u=!0):(i&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}))}if(!(!u&&o.length==s.length))for(var h=0;h<o.length;h++){var p=o[h];!Ee(e,p)&&t[p]!==void 0&&r.push({op:"add",path:n+"/"+M(p),value:F(t[p])})}}}function zs(e,t,r){r===void 0&&(r=!1);var n=[];return je(e,t,n,"",r),n}const ks=Object.assign({},xs,Object.freeze(Object.defineProperty({__proto__:null,compare:zs,generate:Re,observe:Gs,unobserve:qs},Symbol.toStringTag,{value:"Module"})),{JsonPatchError:$t,deepClone:F,escapePathComponent:M,unescapePathComponent:St});class Js{constructor(){E(this,"_eventFuncID",{id:"__reload__"});E(this,"_url");E(this,"_method");E(this,"_vars");E(this,"_locals");E(this,"_loadPortalBody",!1);E(this,"_form",{});E(this,"_popstate");E(this,"_pushState");E(this,"_location");E(this,"_updateRootTemplate");E(this,"_buildPushStateResult");E(this,"parent");E(this,"ignoreErrors",["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"]);E(this,"isIgnoreError",t=>{var r;return t instanceof Error?(r=this.ignoreErrors)==null?void 0:r.includes(t.message):!1})}eventFunc(t){return this._eventFuncID.id=t,this}updateRootTemplate(t){return this._updateRootTemplate=t,this}eventFuncID(t){return this._eventFuncID=t,this}reload(){return this._eventFuncID.id="__reload__",this}url(t){return this._url=t,this}vars(t){return this._vars=t,this}loadPortalBody(t){return this._loadPortalBody=t,this}locals(t){return this._locals=t,this}calcValue(t){return typeof t=="function"?t(this):t}query(t,r){return this._location||(this._location={}),this._location.query||(this._location.query={}),this._location.query[t]=this.calcValue(r),this}mergeQuery(t){return this._location||(this._location={}),this._location.mergeQuery=t,this}clearMergeQuery(t){return this._location||(this._location={}),this._location.mergeQuery=!0,this._location.clearMergeQueryKeys=t,this}location(t){return this._location=t,this}stringQuery(t){return this._location||(this._location={}),this._location.stringQuery=this.calcValue(t),this}stringifyOptions(t){return this._location||(this._location={}),this._location.stringifyOptions=this.calcValue(t),this}pushState(t){return this._pushState=this.calcValue(t),this}queries(t){return this._location||(this._location={}),this._location.query=t,this}pushStateURL(t){return this._location||(this._location={}),this._location.url=this.calcValue(t),this.pushState(!0),this}form(t){return this._form=t,this}fieldValue(t,r){if(!this._form)throw new Error("form not exist");return this._form[t]=this.calcValue(r),this}popstate(t){return this._popstate=t,this}run(t){return typeof t=="function"?t(this):new Function(t).apply(this),this}method(t){return this._method=t,this}buildFetchURL(){return this.ensurePushStateResult(),this._buildPushStateResult.eventURL}buildPushStateArgs(){return this.ensurePushStateResult(),this._buildPushStateResult.pushStateArgs}onpopstate(t){return!t||!t.state?this.popstate(!0).location(window.location.href).reload().go():this.popstate(!0).location(t.state).reload().go()}runPushState(){if(this._popstate!==!0&&this._pushState===!0){window.history.length<=2&&window.history.pushState({url:window.location.href},"",window.location.href);const t=this.buildPushStateArgs();t&&window.history.pushState(...t)}}go(){this._eventFuncID.id=="__reload__"&&(this._buildPushStateResult=null),this.runPushState();const t={method:"POST",redirect:"follow"};if(this._method&&(t.method=this._method),t.method==="POST"){const n=new FormData;At(this._form,n),t.body=n}window.dispatchEvent(new Event("fetchStart"));const r=this.buildFetchURL();return fetch(r,t).then(n=>n.redirected?(document.location.replace(n.url),{}):n.json()).then(n=>(n.runScript&&new Function("vars","locals","form","plaid",n.runScript).apply(this,[this._vars,this._locals,this._form,()=>{const i=Pe().vars(this._vars).locals(this._locals).form(this._form).updateRootTemplate(this._updateRootTemplate);return i.parent=this,i}]),n)).then(n=>{if(n.pageTitle&&(document.title=n.pageTitle),n.redirectURL&&document.location.replace(n.redirectURL),n.reloadPortals&&n.reloadPortals.length>0)for(const i of n.reloadPortals){const o=window.__goplaid.portals[i];o&&o.reload()}if(n.updatePortals&&n.updatePortals.length>0)for(const i of n.updatePortals){const{updatePortalTemplate:o}=window.__goplaid.portals[i.name];o&&o(i.body)}return n.pushState?Pe().updateRootTemplate(this._updateRootTemplate).reload().pushState(!0).location(n.pushState).go():(this._loadPortalBody&&n.body||n.body&&this._updateRootTemplate(n.body),n)}).catch(n=>{console.log(n),this.isIgnoreError(n)||alert("Unknown Error")}).finally(()=>{window.dispatchEvent(new Event("fetchEnd"))})}ensurePushStateResult(){if(this._buildPushStateResult)return;const t=window.location.href;this._buildPushStateResult=As({...this._eventFuncID,location:this._location},this._url||t)}emit(t,...r){this._vars&&this._vars.__emitter.emit(t,...r)}applyJsonPatch(t,r){return ks.applyPatch(t,r)}encodeObjectToQuery(t,r){return Es(t,r)}isRawQuerySubset(t,r,n){return Ts(t,r,n)}}function Pe(){return new Js}const Ks={mounted:(e,t,r)=>{var p,y;let n=e;r.component&&(n=(y=(p=r.component)==null?void 0:p.proxy)==null?void 0:y.$el);const i=t.arg||"scroll",s=L.parse(location.hash)[i];let u="";Array.isArray(s)?u=s[0]||"":u=s||"";const h=u.split("_");h.length>=2&&(n.scrollTop=parseInt(h[0]),n.scrollLeft=parseInt(h[1])),n.addEventListener("scroll",ke(function(){const _=L.parse(location.hash);_[i]=n.scrollTop+"_"+n.scrollLeft,location.hash=L.stringify(_)},200))}},Vs={mounted:(e,t)=>{const[r,n]=t.value;Object.assign(r,n)}},Qs={created(e,t,r){t.value({el:e,binding:t,vnode:r,window,watch:l.watch,watchEffect:l.watchEffect,ref:l.ref,reactive:l.reactive})}},Ys={beforeMount(e,t,r){t.value({el:e,binding:t,vnode:r,window,watch:l.watch,watchEffect:l.watchEffect,ref:l.ref,reactive:l.reactive})}},Ws={mounted(e,t,r){t.value({el:e,binding:t,vnode:r,window,watch:l.watch,watchEffect:l.watchEffect,ref:l.ref,reactive:l.reactive})}},Zs={beforeUpdate(e,t,r,n){t.value({el:e,binding:t,vnode:r,prevVnode:n,window,watch:l.watch,watchEffect:l.watchEffect,ref:l.ref,reactive:l.reactive})}},Xs={updated(e,t,r,n){t.value({el:e,binding:t,vnode:r,prevVnode:n,window,watch:l.watch,watchEffect:l.watchEffect,ref:l.ref,reactive:l.reactive})}},ec={beforeUnmount(e,t,r){t.value({el:e,binding:t,vnode:r,window,watch:l.watch,watchEffect:l.watchEffect,ref:l.ref,reactive:l.reactive})}},tc={unmounted(e,t,r){t.value({el:e,binding:t,vnode:r,window,watch:l.watch,watchEffect:l.watchEffect,ref:l.ref,reactive:l.reactive})}};var It={exports:{}};function De(){}De.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function i(){n.off(e,i),t.apply(r,arguments)}return i._=t,this.on(e,i,r)},emit:function(e){var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,i=r.length;for(n;n<i;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],i=[];if(n&&t)for(var o=0,s=n.length;o<s;o++)n[o].fn!==t&&n[o].fn._!==t&&i.push(n[o]);return i.length?r[e]=i:delete r[e],this}},It.exports=De;var rc=It.exports.TinyEmitter=De;const nc=l.defineComponent({props:{initialTemplate:{type:String,required:!0}},setup(e){const t=l.shallowRef(null),r=l.reactive({});l.provide("form",r);const n=u=>{t.value=Se(u,r)};l.provide("updateRootTemplate",n);const i=l.reactive({__emitter:new rc}),o=()=>Pe().updateRootTemplate(n).vars(i);l.provide("plaid",o),l.provide("vars",i);const s=l.ref(!1);return l.provide("isFetching",s),l.onMounted(()=>{n(e.initialTemplate),window.addEventListener("fetchStart",()=>{s.value=!0}),window.addEventListener("fetchEnd",()=>{s.value=!1}),window.addEventListener("popstate",u=>{o().onpopstate(u)})}),{current:t}},template:`
      <div id="app" v-cloak>
        <component :is="current"></component>
      </div>
    `}),ic={install(e){e.component("GoPlaidScope",Dr),e.component("GoPlaidPortal",Is),e.component("GoPlaidListener",Fs),e.component("ParentSizeObserver",Cs),e.directive("keep-scroll",Ks),e.directive("assign",Vs),e.directive("on-created",Qs),e.directive("before-mount",Ys),e.directive("on-mounted",Ws),e.directive("before-update",Zs),e.directive("on-updated",Xs),e.directive("before-unmount",ec),e.directive("on-unmounted",tc),e.component("GlobalEvents",xt)}};function oc(e){const t=l.createApp(nc,{initialTemplate:e});return t.use(ic),t}const Ft=document.getElementById("app");if(!Ft)throw new Error("#app required");const ac={},Ct=oc(Ft.innerHTML);for(const e of window.__goplaidVueComponentRegisters||[])e(Ct,ac);Ct.mount("#app")});
